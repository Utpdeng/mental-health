"use strict";(self["webpackChunkmental_health_ui"]=self["webpackChunkmental_health_ui"]||[]).push([[536],{4349:function(e,t,r){r.d(t,{A:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"logo-wrapper"},[t("svg",{staticClass:"logo",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[t("circle",{attrs:{cx:"50",cy:"50",r:"45",fill:"currentColor",opacity:"0.2"}}),t("path",{attrs:{d:"M50 20c-16.569 0-30 13.431-30 30 0 16.569 13.431 30 30 30 16.569 0 30-13.431 30-30C80 33.431 66.569 20 50 20zm0 5c13.807 0 25 11.193 25 25S63.807 75 50 75 25 63.807 25 50s11.193-25 25-25z",fill:"currentColor"}}),t("path",{attrs:{d:"M50 35c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z",fill:"currentColor"}})]),e.showText?t("span",{staticClass:"logo-text"},[e._v("校园心理健康平台")]):e._e()])},l=[],s={name:"Logo",props:{showText:{type:Boolean,default:!0}}},a=s,i=r(1656),n=(0,i.A)(a,o,l,!1,null,"13572bd0",null),c=n.exports},8536:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-page"},[t("div",{staticClass:"login-container"},[t("el-card",{staticClass:"login-card"},[t("div",{staticClass:"login-header"},[t("Logo",{attrs:{showText:!1}}),t("h2",[e._v("登录")])],1),t("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{attrs:{prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色"},model:{value:e.loginForm.role,callback:function(t){e.$set(e.loginForm,"role",t)},expression:"loginForm.role"}},[t("el-option",{attrs:{label:"管理员",value:"admin"}}),t("el-option",{attrs:{label:"教师",value:"teacher"}}),t("el-option",{attrs:{label:"学生",value:"student"}})],1)],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v(" 登录 ")])],1)],1)],1)],1)])},l=[],s=(r(4114),r(4349)),a={name:"Login",components:{Logo:s.A},data(){return{loginForm:{username:"",password:"",role:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]}}},methods:{handleLogin(){this.$refs.loginForm.validate((e=>{if(e){this.$store.dispatch("permission/login",{name:this.loginForm.username,role:this.loginForm.role});const e=this.$route.query.redirect||this.getDefaultRedirect();this.$router.push(e)}}))},getDefaultRedirect(){const e={admin:"/admin",teacher:"/teacher",student:"/student"};return e[this.loginForm.role]||"/"}}},i=a,n=r(1656),c=(0,n.A)(i,o,l,!1,null,"38bfc949",null),u=c.exports}}]);
//# sourceMappingURL=536.19174e4e.js.map