{"version":3,"file":"js/536.19174e4e.js","mappings":"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","sources":["webpack://mental-health-ui/./src/components/common/Logo.vue","webpack://mental-health-ui/src/components/common/Logo.vue","webpack://mental-health-ui/./src/components/common/Logo.vue?982a","webpack://mental-health-ui/./src/components/common/Logo.vue?68c7","webpack://mental-health-ui/./src/views/Login.vue","webpack://mental-health-ui/src/views/Login.vue","webpack://mental-health-ui/./src/views/Login.vue?3cb7","webpack://mental-health-ui/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo-wrapper\"},[_c('svg',{staticClass:\"logo\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"45\",\"fill\":\"currentColor\",\"opacity\":\"0.2\"}}),_c('path',{attrs:{\"d\":\"M50 20c-16.569 0-30 13.431-30 30 0 16.569 13.431 30 30 30 16.569 0 30-13.431 30-30C80 33.431 66.569 20 50 20zm0 5c13.807 0 25 11.193 25 25S63.807 75 50 75 25 63.807 25 50s11.193-25 25-25z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"d\":\"M50 35c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\",\"fill\":\"currentColor\"}})]),(_vm.showText)?_c('span',{staticClass:\"logo-text\"},[_vm._v(\"校园心理健康平台\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"logo-wrapper\">\r\n    <svg class=\"logo\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle cx=\"50\" cy=\"50\" r=\"45\" fill=\"currentColor\" opacity=\"0.2\"/>\r\n      <path d=\"M50 20c-16.569 0-30 13.431-30 30 0 16.569 13.431 30 30 30 16.569 0 30-13.431 30-30C80 33.431 66.569 20 50 20zm0 5c13.807 0 25 11.193 25 25S63.807 75 50 75 25 63.807 25 50s11.193-25 25-25z\" fill=\"currentColor\"/>\r\n      <path d=\"M50 35c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\" fill=\"currentColor\"/>\r\n    </svg>\r\n    <span class=\"logo-text\" v-if=\"showText\">校园心理健康平台</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Logo',\r\n  props: {\r\n    showText: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.logo-wrapper {\r\n  @include flex(row, flex-start, center);\r\n  gap: 1rem;\r\n  color: $primary-color;\r\n\r\n  .logo {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n\r\n  .logo-text {\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n  }\r\n}\r\n</style> ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=13572bd0&scoped=true\"\nimport script from \"./Logo.vue?vue&type=script&lang=js\"\nexport * from \"./Logo.vue?vue&type=script&lang=js\"\nimport style0 from \"./Logo.vue?vue&type=style&index=0&id=13572bd0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13572bd0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-page\"},[_c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-card\"},[_c('div',{staticClass:\"login-header\"},[_c('Logo',{attrs:{\"showText\":false}}),_c('h2',[_vm._v(\"登录\")])],1),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-user\",\"placeholder\":\"用户名\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-lock\",\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"role\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择角色\"},model:{value:(_vm.loginForm.role),callback:function ($$v) {_vm.$set(_vm.loginForm, \"role\", $$v)},expression:\"loginForm.role\"}},[_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"admin\"}}),_c('el-option',{attrs:{\"label\":\"教师\",\"value\":\"teacher\"}}),_c('el-option',{attrs:{\"label\":\"学生\",\"value\":\"student\"}})],1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\" 登录 \")])],1)],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"login-container\">\r\n      <el-card class=\"login-card\">\r\n        <div class=\"login-header\">\r\n          <Logo :showText=\"false\" />\r\n          <h2>登录</h2>\r\n        </div>\r\n        \r\n        <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\">\r\n          <el-form-item prop=\"username\">\r\n            <el-input \r\n              v-model=\"loginForm.username\" \r\n              prefix-icon=\"el-icon-user\"\r\n              placeholder=\"用户名\">\r\n            </el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item prop=\"password\">\r\n            <el-input \r\n              v-model=\"loginForm.password\" \r\n              prefix-icon=\"el-icon-lock\"\r\n              type=\"password\"\r\n              placeholder=\"密码\">\r\n            </el-input>\r\n          </el-form-item>\r\n          \r\n          <el-form-item prop=\"role\">\r\n            <el-select v-model=\"loginForm.role\" placeholder=\"请选择角色\" style=\"width: 100%\">\r\n              <el-option label=\"管理员\" value=\"admin\"></el-option>\r\n              <el-option label=\"教师\" value=\"teacher\"></el-option>\r\n              <el-option label=\"学生\" value=\"student\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          \r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"handleLogin\" style=\"width: 100%\">\r\n              登录\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Logo from '@/components/common/Logo.vue'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n    Logo\r\n  },\r\n  data() {\r\n    return {\r\n      loginForm: {\r\n        username: '',\r\n        password: '',\r\n        role: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' }\r\n        ],\r\n        role: [\r\n          { required: true, message: '请选择角色', trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleLogin() {\r\n      this.$refs.loginForm.validate(valid => {\r\n        if (valid) {\r\n          this.$store.dispatch('permission/login', {\r\n            name: this.loginForm.username,\r\n            role: this.loginForm.role\r\n          })\r\n          \r\n          const redirectPath = this.$route.query.redirect || this.getDefaultRedirect()\r\n          this.$router.push(redirectPath)\r\n        }\r\n      })\r\n    },\r\n    getDefaultRedirect() {\r\n      const roleRedirectMap = {\r\n        admin: '/admin',\r\n        teacher: '/teacher',\r\n        student: '/student'\r\n      }\r\n      return roleRedirectMap[this.loginForm.role] || '/'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-page {\r\n  min-height: 100vh;\r\n  @include flex(row, center, center);\r\n  background: linear-gradient(135deg, $primary-color, $secondary-color);\r\n  padding: 1rem;\r\n}\r\n\r\n.login-container {\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\n.login-card {\r\n  .login-header {\r\n    text-align: center;\r\n    margin-bottom: 2rem;\r\n\r\n    .logo {\r\n      width: 80px;\r\n      height: 80px;\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    h2 {\r\n      color: $gray-800;\r\n      font-size: 1.5rem;\r\n    }\r\n  }\r\n}\r\n</style> ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=38bfc949&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=38bfc949&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38bfc949\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","showText","_v","_e","staticRenderFns","name","props","type","Boolean","default","component","ref","loginForm","rules","model","value","username","callback","$$v","$set","expression","password","staticStyle","role","on","handleLogin","components","Logo","data","required","message","trigger","methods","$refs","validate","valid","$store","dispatch","redirectPath","$route","query","redirect","getDefaultRedirect","$router","push","roleRedirectMap","admin","teacher","student"],"sourceRoot":""}